{% extends "questions/question_base.html" %}

{% load crispy_forms_tags %}



{% block question_content %}
<div>
    {% if voted_by_user %}
    
    {% comment %} 
            style="transform:matrix(0.9,0.3,-0.5,0.866,0,6);"
    {% endcomment %}
        <div class="container mt-4">
            <div class="jumbotron" style="background-color: rgba(0, 0, 0, 0.0);">
                <h5 class=" text-center" > You already voted for this question! </h5>
                <div class="text-center mt-4">
                <a class="btn btn-primary text-white  ml-4" 
    			        href="{% url 'questions:all'  %}">Close</a>
                </div>
            </div>
        </div>
    {% else %}
    <form action="{% url 'questions:vote' pk=question.pk  %}" method="post" id="modal-vote" class="form">
        {% csrf_token %}
        <div class="modal-content">
            <div class="modal-header bg bg-info">
                <div class"d-flex justify-content-center" >
                    <h3> {{ question }}</h3>
                </div>
            </div>
            <div class="modal-body">
                {{ form.media }}
        <div class="row">
            <div class="col-6">
                {{ form.vote | as_crispy_field }}
            </div>
        </div>
            </div>
            <div class="modal-footer">
                <div class="d-flex justify-content-between"> 
                    <input type="submit" class="btn btn-primary" value="Vote" />
    			   {% comment %}
    			    <a class="btn btn-danger text-white  ml-4" href="{% url 'questions:all' %}">Close</a>
    			   {% endcomment %}

    			<a class="btn btn-danger text-white  ml-4" 
    			        href="{% url 'questions:single' username=question.user.email pk=question.pk %}">Close</a>
                </div>
            </div>
        </div>
    </form>
 {% endif %}
</div>
{% comment %}
<script>
    var form_options = { target: '#modal', success: function(response) {} };
    $('#modal-vote').ajaxForm(form_options);
</script>
{% endcomment %}
{% endblock %}